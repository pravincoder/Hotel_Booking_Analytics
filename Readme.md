# Hotel Booking Assistant with RAG

This project is a Flask-based web application that provides a Retrieval-Augmented Generation (RAG) powered chat assistant for answering questions about hotel bookings. It also includes an endpoint for visualizing analytics data from a JSON file. The assistant, named "Lula," leverages AI technologies to deliver accurate and contextually relevant responses to user queries about hotel bookings.

## Features

- **Chat Endpoint (`/chat`)**: Allows users to ask questions about hotel bookings (e.g., "What are the most popular hotels?") and receive answers generated by the RAG system.
- **Visualize Endpoint (`/visualize`)**: Returns analytics data from a JSON file (`hotel_analytics.json`), providing insights into booking trends.

## Tech Stack

- **Flask**: A lightweight web framework for building the API.
- **LangChain**: A framework for integrating large language models with external data, used here for the RAG system:
  - **Chroma**: Vector store for efficient document retrieval.
  - **Ollama**: Embedding model (`nomic-embed-text:latest`) for converting text into vectors.
  - **Groq**: Language model (`llama-3.1-8b-instant`) for generating responses.
- **dotenv**: For securely managing environment variables, such as the Groq API key.

## Prerequisites

- Python 3.8 or higher, mine is (3.12.0)
- Git
- A Groq API key (obtainable from [Groq Console](https://console.groq.com/keys))
- Optional: Postman for testing API endpoints

## Setup

Follow these steps to set up the project locally:

1. **Clone the Repository**:
   ```bash
   git clone https://github.com/pravincoder/Hotel_Booking_Analytics.git
   cd Hotel_Booking_Analytics
   ```

2. **Install Dependencies:**
    ```bash
    python -m venv venv
    source venv/bin/activate  # On Windows: venv\Scripts\activate
    ```
    ```bash
    pip install -r requirements.txt
    ```

3. **Set Up Environment Variables:**
    Create a .env file in the root directory.
    ```bash
    GROQ_API_KEY=your_api_key_here
    ```

### Step by Step approach see Notebook dir.

### Step to Run the model
1. **Analytic Step**
    Create the important parameter (json file) and a report using groq llama+json data(txt file)
    ```bash
    python analysis.py
    ```
2. **Rag Bot**
    Create another report that has some preprocessing and instantiate the rag model
    ```bash
    python rag_bot.py
    ```
3. **Flask app*
    Create the 2 endpoints `/chat` and `/visualize`.
    ```bash
    python main.py
    ```

## Usage

### Endpoints

#### /visualize (GET)
- **Description:** Returns analytics data from `hotel_analytics.json`.
- **URL:** `http://localhost:5000/analytics`
- **Response:** 
  - JSON data if the file exists; otherwise, a 404 error.

### /chat (POST)

- **Description:** Accepts a question about hotel bookings and returns answer based on report.
- **URL:** `http://localhost:5000/chat`
- **Request Body:** JSON with a question field

## Testing with Postman

### Visualize Endpoint:
- **Method:** `GET`
- **URL:** [`http://localhost:5000/visualize`](http://localhost:5000/visualize)
- **Expected Response:** JSON analytics data or a 404 error if `hotel_analytics.json` is missing.

### Chat Endpoint:
- **Method:** `POST`
- **URL:** [`http://localhost:5000/chat`](http://localhost:5000/chat)
- **Authorization** Add a header api key called `GROQ_API_KEY`.
- **Example:**
  
  ![Postman Example](https://github.com/user-attachments/assets/55407033-8685-4b51-b2c2-07beca5d8fe1)

- **Headers:**
  - `Content-Type: application/json`
  - Optionally include an `Authorization` header if required by the API.

- **Body:** Raw JSON:
  ```json
  {
    "question": "what is the cancellation count?"
  }

## License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for details.

## Acknowledgments

- [Flask](https://flask.palletsprojects.com/) for the web framework.  
- [LangChain](https://www.langchain.com/) for RAG capabilities.  
- [Groq](https://groq.com/) for the language model.  
- [Ollama](https://ollama.com/) for embeddings.  
- [Chroma](https://www.trychroma.com/) for vector storage.  

## Contributing

Contributions are welcome! If you'd like to improve this project, feel free to submit a pull request. Please make sure to follow best practices and provide a clear description of your changes.  

## Support  

If you encounter any issues or have questions, feel free to open an issue on GitHub or reach out to the maintainers.  

## Stay Connected  

Stay updated with the latest developments and enhancements. Follow the project, star the repo, and share your feedback! ðŸš€  
